Групирање на табелите од базата во домени.
Една табела од една шема можи да се групира во повеќе домени.
Табелите, погледите, функциските табели и функците се означуваат
со налепница „Опис“ што ја опишува нивната намена. Функците во описот соодржат и опис на параметрите и пример за користење во JSON формата.
Енумерациските колони се означуваат со налепница „Еmbed“.

Шемите наведени во конфигурацијата се процесираат и се векторизираат
описите и енумерациските вредности и се складираат во векторски бази
за семантички пребарување.
Се пополнуваат парови прашање кое се векторизира и SQL одговор како податок.

Прво се проверува корисничкото прашање дали е припаѓа на
домените дефинирани во конфигурација или е општо прашање или
малицозен промпт при што се отфрла со порака.

Се одлучува за најрелеватните домени за корисничкото прашање.

Корисничкото прашања се поправа граматички(пример еднина множина) и
се збогатува.

Ако прашањето соодржи имиња и презимња се прави Name Entity Recognition
и се проверува постоењето, рољите во Active Directory.
Aко постојат двосмислености во однос на имиња или презимиња се јазичниот модел со A2GUI генерира динамички UI за селекција.

Семантички се пребаруваат табели од релеватните домаин во однос на корисничкиот прашалник и му се дава на јазичниот модел да одлучи за
релеватните табели.



Семантички се пребаруваат погледите од релеватните домаин во однос на корисничкиот прашалник и му се дава на јазичниот модел да одлучи за
релеватните погледи.

Семантички се пребаруваат табели од релеватните домаин во однос на корисничкиот прашалник и му се дава на јазичниот модел да одлучи за
релеватните модели. 



Анализирај го корисничкиот прашалник , базиран на релеватните табели, колони, погледи и функции, извлечи ги атрибутите нивната намера, вредност, контекст, рефереци во шема, where hint,
и трансформација на временските експресии во реални датуми.
"extracted_attributes": [
  {
    "name": "ticket_status",
    "schema_references": ["dbo.StatusThreadAI.opis"],
    "context": "Defines the status or state of the ticket or case.",
    "intent": "FILTER",
    "value": {
      "data": ["Затворен"],
      "type": "SingleEnum",
      "original_user_text": "затворени",
      "where_hint": "Equals"
    }
  }


Семантичко прочистување на корисничкиот прашалник со точни енум вредности.

Креирање на SQL базиран на релеватните табели, колони, погледи и функции и
релации, пример на редови од колоните и примери од семантички слични прашалници извлечени
од векторската база.

Прочистување на генерираниот SQL со поставување ограничување на бројот на колоните
и сигурносна проверка на недозволени SQL инструкции DELETE, INSERT...

Извршување на SQL прашањето и враќање на резултатот.

Во случај на грешка се праќа прашањето со грешката на јазичниот модел
засилена со примери добиени со пребарување на векторската база на грешки/решенија како се решиле слични грешки.
Успешното решавање се векторизира грешката и како вредност се става коректниот SQL прашалник и се става во база. 

Податоците се прикажуваат преку А2GUI.


